## lab2A
首选服务启动时判断是否需要重新选举：  
1. 追随者阶段  在指定时间内是否接收到leader的心跳
    - 没有接收，开始进行选举，身份转为候选者  
    - 接收到了，继续担任追随者，继续接收  
2. 候选者阶段  给自己投票，然后通知其他人
    - 赢得选举。率先给其他人发心跳检测，防止其他人再进行选举  
    - 输了选举。别人动作快，先发了心跳检测，并且任期一致，于是承认别人是领导者，我变为追随者；否则，拒收心跳，我还有资格竞选，仍然是候选者  
    - 没输没赢。选票平分，没有票数高的人。该任期没有领导者，所有候选者直接进入下一任期的选举。但这可能会造成一个问题，就是大家势均力敌，一直没有领导者出现，导致选举无限期执行下去。
    > 解决办法是使每位候选者的选举超时时间随机，可以理解为每个人的能力随机，这样能力强的自然称为领导者。Raft论文有讲述最开始用的是排名方法，排名高的一定能比排名低的称为领导者，但如果排名高的服务器很容易出现故障，可能造成频繁重新进行选举。得出结论还是随机方法优势更明显。  

